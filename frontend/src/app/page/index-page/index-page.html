<div class="app">
  <div class="playground" #playgroundElRef>
    @for (card of playGroundCards; track card.card.localId) {
    <div
      #dragElRef
      class="item absolute"
      cdkDrag
      [cdkDragBoundary]="'.playground'"
      [cdkDragFreeDragPosition]="{ x: card.x, y: card.y }"
      [attr.data-id]="card.card.localId"
      (contextmenu)="onPlaygroundCardDelete($event)"
      (cdkDragEnded)="onPlaygroundCardDragEnded($event, card.card.localId)"
      (cdkDragStarted)="onPlaygroundCardDragStarted(card.card.localId)"
      [cdkDragDisabled]="card.isLoading"
    >
      <span class="icon">{{ card.card.icon }}</span>
      <span class="label">{{ card.card.word }}</span>
    </div>
    }
  </div>

  <div class="sidebar">
    @for (card of sidebarCards; track card.card.localId) {
    <div
      class="item"
      cdkDrag
      [cdkDragData]="card"
      [cdkDragBoundary]="'.app'"
      [attr.data-id]="card.card.localId"
      (cdkDragMoved)="onSidebarCardMoved($event)"
      (cdkDragEnded)="onSidebarCardDragEnded($event)"
    >
      <span class="icon">{{ card.card.icon }}</span>
      <span class="label">{{ card.card.word }}</span>

      <ng-template cdkDragPreview>
        <div class="item">
          <span class="icon">{{ card.card.icon }}</span>
          <span class="label">{{ card.card.word }}</span>
        </div>
      </ng-template>

      <ng-template cdkDragPlaceholder>
        <div class="item">
          <span class="icon">{{ card.card.icon }}</span>
          <span class="label">{{ card.card.word }}</span>
        </div>
      </ng-template>
    </div>
    }
  </div>
</div>
