<div class="app" (contextmenu)="disableContext($event)">
  <div class="playground" #playgroundElRef>
    @for (card of playGroundCards; track card.localId) {
    <div
      #dragElRef
      class="item absolute"
      cdkDrag
      [cdkDragBoundary]="'.playground'"
      [cdkDragFreeDragPosition]="{ x: card.x, y: card.y }"
      [attr.data-id]="card.localId"
      (contextmenu)="onPlaygroundCardDelete($event)"
      (cdkDragEnded)="onPlaygroundCardDragEnded($event, card.localId)"
      (cdkDragStarted)="onPlaygroundCardDragStarted(card.localId)"
      [cdkDragDisabled]="card.isLoading"
      appZIndexOnCardDrag
    >
      <span class="icon">{{ card.card.icon }}</span>
      <span class="label">{{ card.card.word }}</span>
    </div>
    }
  </div>

  <div class="sidebar">
    @for (card of sidebarCards; track card.localId) {
    <div
      class="item"
      cdkDrag
      [cdkDragData]="card"
      [cdkDragBoundary]="'.app'"
      [attr.data-id]="card.localId"
      (cdkDragMoved)="onSidebarCardMoved($event)"
      (cdkDragEnded)="onSidebarCardDragEnded($event)"
    >
      <span class="icon">{{ card.card.icon }}</span>
      <span class="label">{{ card.card.word }}</span>
    </div>
    }
  </div>
</div>
